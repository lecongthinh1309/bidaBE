spring.application.name=backend

# ===== Server port for Render / cloud =====
server.port=${PORT:8080}

# ===== JWT settings =====
# (Khuyên: set bằng ENV trên Render cho an toàn, nhưng để đây vẫn chạy được)
jwt.secret=change-me-please-at-least-32-chars-long-for-hs256
jwt.validity-ms=3600000

# ===== Database configuration (MySQL) =====
# Local (XAMPP): dùng localhost nếu không set ENV
# Deploy (Render): set ENV SPRING_DATASOURCE_URL / USERNAME / PASSWORD
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://localhost:3306/billiard_db?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:root}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:}

# ===== JPA / Hibernate =====
spring.jpa.hibernate.ddl-auto=update
# MySQL8Dialect bị cảnh báo deprecated, đổi sang MySQLDialect cho sạch log
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.show-sql=true

# ===== Spring Security logs (debug) =====
# Nếu deploy mà log quá nhiều, bạn có thể đổi DEBUG -> INFO
logging.level.org.springframework.security=DEBUG

# ===== Static files: serve uploaded images from 'uploads' folder =====
spring.web.resources.static-locations=classpath:/static/,file:uploads/

# ===== Upload size limit =====
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
